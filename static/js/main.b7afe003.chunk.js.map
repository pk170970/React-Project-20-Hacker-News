{"version":3,"sources":["actions.js","reducer.js","context.js","SearchForm.js","Stories.js","Buttons.js","App.js","index.js"],"names":["SET_LOADING","SET_STORIES","REMOVE_STORY","HANDLE_PAGE","HANDLE_SEARCH","reducer","state","actions","type","loading","story","payload","nbPages","filter","item","objectID","query","page","Error","initialState","AppContext","React","createContext","AppProvider","children","useReducer","dispatch","fetchData","url","fetch","response","json","data","hits","console","log","useEffect","Provider","value","removeStory","id","searchTopic","handlePageType","message","useGlobalContext","useContext","SearchForm","className","onSubmit","e","preventDefault","onChange","target","Stories","map","title","num_comments","points","author","story_text","href","onClick","Buttons","disabled","App","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.b7afe003.chunk.js","sourcesContent":["export const SET_LOADING = \"SET_LOADING\";\nexport const SET_STORIES = \"SET_STORIES\";\nexport const REMOVE_STORY = \"REMOVE_STORY\";\nexport const HANDLE_PAGE = \"HANDLE_PAGE\";\nexport const HANDLE_SEARCH = \"HANDLE_SEARCH\";\n","import {\n  SET_LOADING,\n  SET_STORIES,\n  REMOVE_STORY,\n  HANDLE_PAGE,\n  HANDLE_SEARCH\n} from \"./actions\";\n\nconst reducer = (state, actions) => {\n  switch (actions.type) {\n    case SET_LOADING:\n      return { ...state, loading: true };\n\n    case SET_STORIES:\n      return {\n        ...state,\n        loading: false,\n        story: actions.payload.story,\n        nbPages: actions.payload.nbPages\n      };\n\n    case REMOVE_STORY:\n      return {\n        ...state,\n        story: state.story.filter((item) => item.objectID !== actions.payload)\n      };\n\n    case HANDLE_SEARCH:\n      return { ...state, query: actions.payload, page: 0 };\n\n    case HANDLE_PAGE:\n      if (actions.payload === \"next\") {\n        if (state.page < state.nbPages - 1) {\n          return { ...state, page: state.page + 1 };\n        } else {\n          return { ...state, page: 0 };\n        }\n      }\n\n      if (actions.payload === \"prev\") {\n        if (state.page > 0) {\n          return { ...state, page: state.page - 1 };\n        } else {\n          return { ...state, page: state.nbPages - 1 };\n        }\n      }\n      break;\n\n    default:\n      throw new Error(\"NO action type found\");\n  }\n};\nexport default reducer;\n","import React, { useContext, useEffect, useReducer, useState } from \"react\";\n\nimport {\n  SET_LOADING,\n  SET_STORIES,\n  REMOVE_STORY,\n  HANDLE_PAGE,\n  HANDLE_SEARCH\n} from \"./actions\";\n\nimport reducer from \"./reducer\";\n\nconst API_ENDPOINT = \"https://hn.algolia.com/api/v1/search?\";\n\nconst initialState = {\n  loading: false,\n  story: [],\n  query: \"react\",\n  page: 0,\n  nbPages: 0\n};\n\nconst AppContext = React.createContext();\n\nconst AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const fetchData = async (url) => {\n    dispatch({ type: SET_LOADING });\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      if (data) {\n        dispatch({\n          type: SET_STORIES,\n          payload: { story: data.hits, nbPages: data.nbPages }\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const removeStory = (id) => {\n    dispatch({ type: REMOVE_STORY, payload: id });\n  };\n\n  const searchTopic = (query) => {\n    dispatch({ type: HANDLE_SEARCH, payload: query });\n  };\n\n  const handlePageType = (message) => {\n    dispatch({ type: HANDLE_PAGE, payload: message });\n  };\n\n  useEffect(() => {\n    fetchData(`${API_ENDPOINT}query=${state.query}&page=${state.page}`);\n  }, [state.query, state.page]);\n\n  return (\n    <AppContext.Provider\n      value={{ ...state, removeStory, searchTopic, handlePageType }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\n\nconst SearchForm = () => {\n  const { searchTopic, query } = useGlobalContext();\n\n  return (\n    <form className=\"search-form\" onSubmit={(e) => e.preventDefault()}>\n      <h2>search hacker news</h2>\n      <input\n        type=\"text\"\n        className=\"form-input\"\n        value={query}\n        onChange={(e) => searchTopic(e.target.value)}\n      />\n    </form>\n  );\n};\n\nexport default SearchForm;\n","import React from \"react\";\n\nimport { useGlobalContext } from \"./context\";\n\nconst Stories = () => {\n  const { loading, story, removeStory } = useGlobalContext();\n\n  if (loading) {\n    return <div className=\"loading\"></div>;\n  }\n\n  return (\n    <div className=\"stories\">\n      {story.map((data) => {\n        // console.log(data);\n        const {\n          objectID,\n          url,\n          title,\n          num_comments,\n          points,\n          author,\n          story_text\n        } = data;\n        return (\n          <article key={objectID} className=\"story\">\n            <h4 className=\"title\">{title || story_text}</h4>\n            <p className=\"info\">\n              {points} by {author} | {num_comments} comments\n            </p>\n            <div>\n              <a href={url} className=\"read-link\">\n                Read More...\n              </a>\n              <button\n                className=\"remove-btn\"\n                onClick={() => removeStory(objectID)}\n              >\n                remove\n              </button>\n            </div>\n          </article>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Stories;\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\n\nconst Buttons = () => {\n  const { handlePageType, page, nbPages, loading } = useGlobalContext();\n\n  return (\n    <div className=\"btn-container\">\n      <button disabled={loading} onClick={() => handlePageType(\"prev\")}>\n        prev\n      </button>\n      <p>\n        {page + 1} of {nbPages}\n      </p>\n      <button disabled={loading} onClick={() => handlePageType(\"next\")}>\n        next\n      </button>\n    </div>\n  );\n};\n\nexport default Buttons;\n","import React from \"react\";\nimport SearchForm from \"./SearchForm\";\nimport Stories from \"./Stories\";\nimport Buttons from \"./Buttons\";\nfunction App() {\n  return (\n    <>\n      <SearchForm />\n      <Buttons />\n      <Stories />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>\n);\n"],"sourceRoot":""}